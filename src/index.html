<!DOCTYPE html>
<html lang="en">
<head>
	<title>Blackberry.js - for the artisinal web</title>
	<style>blackberry-component { display: none; }</style>
	<script type="module">
		import Alpine from "https://esm.sh/v135/alpinejs@3.14.7/es2022/alpinejs.mjs"
		import Blackberry from "./blackberry.js";

		window.Alpine = Alpine;
		Alpine.plugin(Blackberry());
		Alpine.start();
	</script>
</head>
<body>
	<template blackberry tag="counter-component" props="foo, bar,baz">

		<style scoped>
			button { color: red; }
		</style>

		<script setup>
			const count = $state({ value: 1 });

			$effect(() => {
				console.log('count changed', count.value)
			})

			$cleanup(() => {console.log("bye")})

			const $data = {
				count,
			}
		</script>

		<markup>
			<button @click="count.value++">count: <span x-text="count.value"></span></button>
		</markup>
	</template>

	<counter-component foo="hello"></counter-component>
</body>
</html>
